(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3d0128e"],{"49c2":function(t,e,n){"use strict";var o=n("2b7c"),s={REGISTER:"/auth/register",LOGIN:"/auth/login",LOGOUT:"/auth/logout",GET_INFO:"/auth"};e["a"]={register:function(t){var e=t.username,n=t.password;return Object(o["a"])(s.REGISTER,"post",{username:e,password:n})},login:function(t){var e=t.username,n=t.password;return Object(o["a"])(s.LOGIN,"post",{username:e,password:n})},logout:function(){return Object(o["a"])(s.LOGOUT)},getInfo:function(){return Object(o["a"])(s.GET_INFO)}}},8418:function(t,e,n){"use strict";var o=n("a04b"),s=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var i=o(e);i in t?s.f(t,i,a(0,n)):t[i]=n}},"8adf":function(t,e,n){},"90e8":function(t,e,n){"use strict";var o=n("2b0e");e["a"]=new o["default"]},"99f9":function(t,e,n){"use strict";n("8adf")},a434:function(t,e,n){"use strict";var o=n("23e7"),s=n("da84"),a=n("23cb"),i=n("5926"),c=n("07fa"),r=n("7b0b"),u=n("65f0"),l=n("8418"),f=n("1dde"),d=f("splice"),p=s.TypeError,m=Math.max,g=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,o,s,f,d,b,k=r(this),C=c(k),w=a(t,C),_=arguments.length;if(0===_?n=o=0:1===_?(n=0,o=C-w):(n=_-2,o=g(m(i(e),0),C-w)),C+n-o>h)throw p(v);for(s=u(k,o),f=0;f<o;f++)d=w+f,d in k&&l(s,f,k[d]);if(s.length=o,n<o){for(f=w;f<C-o;f++)d=f+o,b=f+n,d in k?k[b]=k[d]:delete k[b];for(f=C;f>C-o+n;f--)delete k[f-1]}else if(n>o)for(f=C-o;f>w;f--)d=f+o-1,b=f+n-1,d in k?k[b]=k[d]:delete k[b];for(f=0;f<n;f++)k[f+w]=arguments[f+2];return k.length=C-o+n,s}})},c9f9:function(t,e,n){},dd4f:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav"},[n("ul",{staticClass:"info"},[n("li",{staticClass:"add",on:{click:t.onCreate}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新建",placement:"bottom"}},[n("el-button",[n("Icon",{attrs:{name:"add"}})],1)],1)],1),n("li",[n("Avatar")],1),n("li",{staticClass:"logout",on:{click:t.logout}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"退出登录",placement:"bottom"}},[n("el-button",[n("Icon",{attrs:{name:"logout"}})],1)],1)],1)])]),n("div",{staticClass:"notebookList"},[t._v(" 笔记本列表 "),n("span",{staticClass:"count"},[t._v(t._s(t.notebooks.length))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notebooks.length,expression:"notebooks.length == 0"}],staticClass:"no-notebook"},[n("span",[n("Icon",{attrs:{name:"notebook"}})],1),n("span",[t._v("暂无笔记本，新建一个吧")])]),n("ul",{directives:[{name:"show",rawName:"v-show",value:0!=t.notebooks.length,expression:"notebooks.length != 0"}],staticClass:"notebooks"},t._l(t.notebooks,(function(e){return n("li",{key:e.id,staticClass:"notebook"},[n("div",{staticClass:"title"},[n("Icon",{staticClass:"notebook-icon",attrs:{name:"notebook"}}),n("router-link",{attrs:{to:"/note?notebookId="+e.id}},[n("span",{staticClass:"notebook-title"},[t._v(t._s(e.title))])]),n("span",{staticClass:"noteCounts"},[t._v(t._s(e.noteCounts))]),n("span",{staticClass:"onEdit",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.onEdit(e)}}},[n("Icon",{staticClass:"pan",attrs:{name:"pan"}})],1)],1),n("div",{staticClass:"date"},[n("div",{staticClass:"createdAt"},[t._v(t._s(e.createdAt))]),n("span",{staticClass:"remove",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.onDelete(e)}}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"bottom"}},[n("el-button",[n("Icon",{attrs:{name:"remove"}})],1)],1)],1)])])})),0)])},s=[],a=(n("a434"),n("49c2")),i=n("135c"),c=n("df3a"),r={components:{Avatar:c["a"]},data:function(){return{notebooks:[],notebook:{}}},created:function(){var t=this;a["a"].getInfo().then((function(e){e.isLogin||t.$router.push({path:"/login"})})),i["a"].getAll().then((function(e){t.notebooks=e.data,console.log(notebook.id)}))},methods:{logout:function(){var t=this;console.log("logout"),a["a"].logout().then((function(e){t.$router.push({path:"login"})}))},onCreate:function(){var t=this;this.$prompt("请输入笔记本标题","新建笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^.{1,30}$/,inputErrorMessage:"标记不能为空，且不能超过30个字符"}).then((function(t){var e=t.value;return i["a"].addNoteBook({title:e})})).then((function(e){t.notebooks.unshift(e.data),t.$message({type:"success",message:e.msg})})).catch((function(e){t.$message({type:"info",message:e.msg})}))},onEdit:function(t){var e=this,n="";this.$prompt("请输入笔记本标题","修改笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^.{1,30}$/,inputValue:t.title,inputErrorMessage:"标题不能为空，且不能超过30个字符"}).then((function(o){var s=o.value;n=s,i["a"].updateNoteBook(t.id,{title:n}).then((function(o){t.title=n,e.$message({type:"success",message:o.msg})}))})).catch((function(t){e.$message({type:"info",message:t.msg})}))},onDelete:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return i["a"].deleteNoteBook(t.id)})).then((function(n){e.notebooks.splice(e.notebooks.indexOf(t),1),e.$message({type:"success",message:n.msg})})).catch((function(t){e.$message({type:"info",message:t.msg})}))}}},u=r,l=(n("f064"),n("2877")),f=Object(l["a"])(u,o,s,!1,null,"619f0aee",null);e["default"]=f.exports},df3a:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{attrs:{title:t.username}},[t._v(t._s(t.slug))])},s=[],a=n("49c2"),i=n("90e8"),c={data:function(){return{username:"未登录"}},created:function(){var t=this;i["a"].$on("userInfo",(function(e){t.username=e.username})),a["a"].getInfo().then((function(e){e.isLogin&&(t.username=e.data.username)})),console.log("----------------------")},computed:{slug:function(){return this.username.charAt(0)}}},r=c,u=(n("99f9"),n("2877")),l=Object(u["a"])(r,o,s,!1,null,"5d2e3dca",null);e["a"]=l.exports},f064:function(t,e,n){"use strict";n("c9f9")}}]);
//# sourceMappingURL=chunk-b3d0128e.55f98d6d.js.map